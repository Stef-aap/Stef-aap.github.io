<HTML><HEAD><TITLE>RCX demo</TITLE>
<STYLE type="text/css"><!--
BODY {
  margin: 5px 5px 5px 5px;
  background-color: #EFEFEF;
}

--></STYLE>
<LINK type="text/css" href="rvf.css" rel=STYLESHEET>
<link rel="icon" href="punthoofd.gif" type="image/gif"></HEAD>
<BODY alink=#ff0000>

<P class=RVPS3><SPAN class=RVTS8>December 2002</SPAN></P>
<P><SPAN class=RVTS1>JALss, RCX demos</SPAN></P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;</P>
<P><SPAN class=RVTS2>Demo1, moving car with left-right motor</SPAN></P>
<P>After the program is started, you should see an image almost similar to the image below.</P>
<P>The electronic circuit consist of 2 devices, the virtual RCX (VRCX) and a room with a VRCX-car.</P>
<P>The image on the screen will not show the electrical connection wires between the devices, these are only drawn in the image below for clearity (but there are other ways to see the connections)..&nbsp;</P>
<P>Now just press the RUN button (green arrow), and see how the car is moving around.&nbsp;</P>
<P>&nbsp;<IMG width=918 height=558 src="jalss_example2.jpg"></P>
<P>The car will start driving around, and when bounces against a wall, it will produce a RCX-sound (through the PC speaker) and correct its direction.</P>
<P>What' happens is that the virtual RCX is loaded with a small NQC program (ExVRCX1.NQC, which filename is shown at the bottom of the VRCX). The program controls motors A and C and watches the sensors 1 and 3, so it can detect bumping against a wall with the front of the VRCX. You can move the car around by hand, through the sliders at the bottom and right side of the car-device.</P>
<P>Pressing the VIEW button on the VRCX, will function exactly as on a real RCX. Select sensor 1 or 3 in the display and watch what happens when the car bounces against the wall.</P>
<P>Now go to the sensor tab on the VRCX., you get to see an internal scope, that shows in "real-time" all the sensor signals. To show the capabilities, here sensor 1 is simply set as a passive sensor, while sensor 3 is set as an active (light) sensor. Watch what&nbsp; happens when the car hits the wall. More about the&nbsp;<A class=RVTS4 href="jalss_rcx_devices.html#sensor_input">sensor scope</A>.</P>
<P>Now switch to the motor tab and watch what happens when the car bumps to the wall (increasing power consumption). More about the&nbsp;<A class=RVTS4 href="jalss_rcx_devices.html#motor_output">motor scope</A>.</P>
<P>At last take a look at the code tab, where you can see the assembler code of the NQC program. More about the&nbsp;<A class=RVTS4 href="jalss_rcx_devices.html#code">code tab</A>.&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Demo2,&nbsp; direct control of the VRCX by BricxCC</SPAN></P>
<P>One of the VRCX in the circuit can be directly controled by a modified version of BricxCC.</P>
<P>BricxCC can be launched form the menu through :&nbsp; control &gt; Launch Bricxcc.</P>
<P>If you've a slow computer or operating system, launching of Bricxcc can be much quicker if you first stop the simulation, by pressing the STOP button.</P>
<P>Now a problem can occure, because Bricxcc reads it's settings from the windows registry, so it's not possible for me to set all the preferences correct. What is important is that BricxCC selects the USB-1 port, because that is redirected to the VRCX.</P>
<P>After Bricxcc shows up, start the simulation again (because that's ofcourse the only mode where communication can take place).</P>
<P>If you know the filepaths, you can do an intermediate experiment.</P>
<P>Goto BricxCC, open the file ExVRCX1.NQC&nbsp; (located at&nbsp; &lt;JALss-path&gt; \&nbsp; NQC-files \ ....</P>
<P>Change something, like removing the sounds and press the DOWNLOAD button on BricxCC.</P>
<P>If everything is ok, the following will hapen:</P>
<P>- the program is compiled</P>
<P>- the JALss simulation will be stopped and JALss will come in focus</P>
<P>- the "light bue" load screen will showup in the VRCX</P>
<P>- and at last the simulation is started again with the new program loaded</P>
<P>Now the first demo is still running, you can see some of the tasks coloring yellow or green. Now start in BricxCC the "direct control" and press the button "stop all tasks". You&nbsp; now will see that all tasks will color red and the car stops moving.</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Demo3, resistor test at sensor input</SPAN></P>
<P>Now we switch to the sensor tab of the VRCX. Enlarge the VRCX window so much that all the scollbars have disappeared, you'll see some test switches on the right.</P>
<P>By the direct control of Bricxcc, set sensor 2 to "light sensor" + "raw value".</P>
<P>Turn the test switch of sensor 2 on, and move the slider of the resistor up and down. Now both the time-signal of&nbsp; sensor 2 as well as the numeriacl values on the left side will change according to the resistor position. More about the&nbsp;<A class=RVTS4 href="jalss_rcx_devices.html#sensor_input">sensor scope</A>.</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Demo4, active amplifier at sensor input</SPAN></P>
<P>We are now going to select another circuit.</P>
<P>At the left you see a number of tabs, currently the "EXE" tab is shown, displaying the devices in the current circuit.</P>
<P>Select the projectgroup tab "PJG", it will show a list of currently available circuits.</P>
<P>Select the project&nbsp;&nbsp; "ExVRCX4.jss"&nbsp; &gt; right mouse button&nbsp; &gt;&nbsp; open</P>
<P>Now a new circuit will be opened, containing a VRCX, an amplifier and a signal generator.</P>
<P>The amplifier is a standard amplifier according to Michael Gasperi, the output of the opamp is fed to the RCX sensor input through an 1 kOhm resistor.</P>
<P>Select the sensor tab on the VRCX and start the simulation.</P>
<P>Go back to BricxCC &gt;&nbsp; direct control&nbsp; &gt;&nbsp; ...</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and set sensor 2 to light sensor and raw data format</P>
<P>(note:&nbsp; if due to some reason communication between BricxCC and JALss is stopped, it will be activated by the set sensor signal)</P>
<P>Now also view the external scope, it shows 3 signals:</P>
<UL style="text-indent: 0px; margin-left: 24px; list-style:outside;">
<LI>the orginal generator signal,&nbsp;</LI>
<LI>the signal at the sensor input -2&nbsp;</LI>
<LI>the "internal measured" signal of the RCX&nbsp;</LI>
</UL>
<P>Note: in the first release of JALss, when the simulation is stopped, the external scope is not very handy for use with the RCX (this will be improved in future versions).</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Demo5, linearity of the amplifier shown in Excel</SPAN></P>
<P>This example show how to add a device, connect the device to other components and how to use the device "data2file".</P>
<P>The idea is that we want to compare the orginal generator signal with the signal measured by the RCX.</P>
<P>Start with loading the simulation example ExVRCX5.jss.</P>
<P>Inserting the data2file device</P>
<UL style="text-indent: 0px; margin-left: 24px; list-style:outside;">
<LI>On the left select the tab with available devices "AVAIL",&nbsp; select MISC&nbsp; &gt;&nbsp; Data to File&nbsp; &gt;&nbsp; right mouse button&nbsp; &gt;&nbsp; Insert&nbsp;</LI>
<LI>Scale and position the newly created device&nbsp;</LI>
</UL>
<P>Setting the parameters of the new device</P>
<UL style="text-indent: 0px; margin-left: 24px; list-style:outside;">
<LI>Click in the device on "new" and select a filepath and type a filename&nbsp;</LI>
<LI>Check the timecolumn checkbox (this will give a column with the time in seconds in the file)&nbsp;</LI>
<LI>fill in maxrec 200&nbsp;</LI>
<LI>select "internal trigger"&nbsp;</LI>
<LI>set frequency at 100&nbsp;</LI>
</UL>
<P>Connecting the device</P>
<UL style="text-indent: 0px; margin-left: 24px; list-style:outside;">
<LI>click on the upper triangle, a list will show up with all available output and IO-pins in the circuit&nbsp;</LI>
<LI>select&nbsp;&nbsp; all ouputs &gt; analog oscillator &gt; out signal , and press select button&nbsp;</LI>
<LI>click on the next triangle&nbsp;</LI>
<LI>select&nbsp;&nbsp;&nbsp;&nbsp; all outputs &gt; RIS2.0&nbsp; &gt;&nbsp; internal sensor 2, and press select button&nbsp;</LI>
</UL>
<P>Now start the simulation and check the internal sensor scope of the VRCX. You probably have to set sensor 2 to light / raw by direct control of BricxCC.</P>
<P>Then press record on the data2file device, the counter on the data2file device will start running and stop when all samples are acquired.&nbsp;</P>
<P>Stop Jalss.</P>
<P>Now you can view the recorded datafile in Excel (or any other modern spreadsheet program, just open and press on finish) and will be able to create a picture similar to the one shown below.</P>
<P><TABLE width=100% bgcolor=#EFEFEF border=1 style='{border-width : 0px}' cellpadding=5 bordercolor=#808080 cellspacing=0>
<TR valign=top>
<TD width=100 valign=middle style='{border-width : 1px; }'>
<P>&nbsp;<IMG width=294 height=252 src="rcx_example2.gif"></P></TD>
<TD width=100 valign=middle style='{border-width : 1px; border-left: none; }'>
<P>&nbsp;<IMG width=294 height=308 src="rcx_example1.gif"></P></TD>
</TR>
</TABLE>
</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Demo6, more sensors connected to 1 Sensor port</SPAN></P>
<P>Load the simulation example ExVRCX6.jss.</P>
<P>Start the simulation,&nbsp;</P>
<P>Through BricxCC, stop all tasks, set sensor 2 to switch + raw</P>
<P>Select the sensor tab on the VRCX</P>
<P>and bump the car with the manual sliders right into the wall, so both front sensors will be activated.</P>
</BODY></HTML>
