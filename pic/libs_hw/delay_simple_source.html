<html>
<head>
<title>JALcc SourceCode exporting of delay_simple_source.html</title>
</head>
<!-- Generated by SynEdit HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  size=3 face="Courier New"><font color="#000080"><A href="delay_simple.jal">download&nbsp;delay_simple.jal</A>

</font><font color="#808080"><i>-- Simple_delay.jal written by Stef Mientki
--
-- this is very dirty routine to realize delay with a 20MHz Xtal.
-- I wrote this routine because the orginal didn't support 20 MHz,
-- maybe now it does ?
--
-- look for JDELAY.JAL written by Wouter van Ooijen,
-- which is a well written library

</i></font><b>procedure </b><font color="#000080">delay_1us<b>( </b></font><b>byte in </b><font color="#000080">x <b>= </b></font><font color="#FF0000">1 </font><font color="#000080"><b>) </b></font><b>is
  for </b><font color="#000080">x </font><b>loop
    </b><font color="#800080"><i>asm </i></font><font color="#000080">nop
  </font><b>end loop
end procedure


procedure </b><font color="#000080">delay_100uS<b>( </b></font><b>byte in </b><font color="#000080">x <b>= </b></font><font color="#FF0000">1 </font><font color="#000080"><b>) </b></font><b>is
   for </b><font color="#000080">x </font><b>loop
      </b><font color="#000080">delay_1uS<b>( </b></font><font color="#FF0000">50 </font><font color="#000080"><b>)
   </b></font><b>end loop
end procedure


procedure </b><font color="#000080">delay_10ms<b>( </b></font><b>byte in </b><font color="#000080">x <b>= </b></font><font color="#FF0000">1 </font><font color="#000080"><b>) </b></font><b>is
   for </b><font color="#000080">x </font><b>loop
      </b><font color="#000080">delay_100uS<b>( </b></font><font color="#FF0000">100 </font><font color="#000080"><b>)
   </b></font><b>end loop
end procedure


procedure </b><font color="#000080">delay_1s<b>( </b></font><b>byte in </b><font color="#000080">x <b>= </b></font><font color="#FF0000">1 </font><font color="#000080"><b>) </b></font><b>is
   for </b><font color="#000080">x </font><b>loop
      </b><font color="#000080">delay_10mS<b>( </b></font><font color="#FF0000">100 </font><font color="#000080"><b>)
   </b></font><b>end loop
end procedure

</b></font>
</code></pre>
</body>
</html>
