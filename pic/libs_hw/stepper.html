<HTML><HEAD><TITLE>2 stepper</TITLE>
<STYLE type="text/css"><!--
BODY {
  margin: 5px 5px 5px 5px;
  background-color: #E8E8E8;
}

--></STYLE>
<LINK type="text/css" href="rvf.css" rel=STYLESHEET>
<link rel="icon" href="jalccring_small.gif" type="image/gif"></HEAD>
<BODY>

<P><SPAN class=RVTS1>2 stepper</SPAN></P>
<P><SPAN class=RVTS7>This html document is automatically generated by JALcc, from the JAL-sourcefile</SPAN></P>
<P><SPAN class=RVTS7>stepper.jal&nbsp;&nbsp; 07-08-2004</SPAN></P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Description&nbsp;</SPAN></P>
<P>Library that can control up to 2 stepper motors. Features&nbsp;</P>
<P>* position control (in half-steps) controled by a 4 byte number&nbsp;</P>
<P>* both half-stepping and full-stepping implemented&nbsp;</P>
<P>* on full-stepping, 1 or 2 windings can be forced&nbsp;</P>
<P>* acceleration / deceleration supported&nbsp;</P>
<P>uses&nbsp;&nbsp; : byte3_math, TMR0 as interrupt generator&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Example stepper&nbsp;</SPAN></P>
<P>&nbsp;-- SEE STEPPER_RS232.JAL&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>License&nbsp;</SPAN></P>
<P>freeware, under the terms of the GNU GPL&nbsp;</P>
<P>Copyright (C) 2002 Stef Mientki&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS1>Version History</SPAN></P>
<P><A class=RVTS4 href="stepper.jal">download&nbsp; stepper.jal</A></P>
<P><A class=RVTS4 href="stepper_source.html">colorcoded HTML&nbsp; stepper_source.html</A></P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Version: 1.0&nbsp; 24-08-2002&nbsp;&nbsp; Stef Mientki&nbsp;</SPAN></P>
<P>- orginal release&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Included Files</SPAN></P>
<P>04-08-2004&nbsp;&nbsp;&nbsp;<A class=RVTS4 href="byte3_math.jal">byte3_math.jal</A>&nbsp;&nbsp;&nbsp; d:\pic-tools\jal\lib\</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS1>Public Procedures</SPAN></P>
<P><SPAN class=RVTS2>procedure stepper_run_continuous</SPAN></P>
<P>-- sets motor to run continuously in the current speed and direction,</P>
<P>-- without any acceleration</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_run_continuous_smooth</SPAN></P>
<P>-- sets motor to run continuously, with smooth start in the current direction</P>
<P>-- motor is supposed to be initial not running</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_run_into</SPAN></P>
<P>-- Runs motor to the specified target position,</P>
<P>-- using the current direction, speed and accereration settings</P>
<P>-- This routine can also be called as a macro,</P>
<P>-- allowing to use large integer values</P>
<P>--&nbsp;&nbsp;&nbsp;&nbsp; stepper_run_into&nbsp; 1,23300</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_do_steps</SPAN></P>
<P>-- Runs motor for the specified HALF-STEPS !!</P>
<P>-- using the current direction, speed and accereration settings</P>
<P>-- If motor is running, the specified steps will be added to the target position</P>
<P>-- This routine can also be called as a macro,</P>
<P>-- allowing to use large integer values</P>
<P>--&nbsp;&nbsp;&nbsp;&nbsp; stepper_do_steps&nbsp; 1,23300</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_stop</SPAN></P>
<P>-- stops motor directly</P>
<P>-- sets motor status to stopped</P>
<P>-- sets position target=current</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_stop_smooth</SPAN></P>
<P>-- stops motor smoothly</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_set_null</SPAN></P>
<P>-- stops motor directly and nulls position</P>
<P>-- sets motor status to stopped</P>
<P>-- sets position current=0</P>
<P>-- sets position target=current</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>procedure stepper_init</SPAN></P>
<P>-- initializes all stepper motors</P>
<P>-- this procedure is automatic called by the include of this library</P>
<P>-- and should rarely be called be the user</P>
</BODY></HTML>
