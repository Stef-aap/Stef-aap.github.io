<html>
<head>
<title>JALcc SourceCode exporting of play_music1_ins_source.html</title>
</head>
<!-- Generated by SynEdit HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  size=3 face="Courier New"><font color="#000080"><A href="play_music1_ins.jal">download&nbsp;play_music1_ins.jal</A>
</font><font color="#808080"><i>-- -----------------------------------------------------------------------------
-- Example of sound tables, to be used with PLAY_MUSIC
-- -----------------------------------------------------------------------------
-- Library for generating sounds, using TMR0
--
-- Use of this library
--   make a local copy of this file in the program directory
-- Then change the following, according to your needs
--   define the IO pin
--   define the frequency of each note in table1
--   define the duration of each note in table2
--   from the main program, include this file and call PLAY_SONG
--
-- Author : Stef Mientki
-- Version: 1.0  07-04-2002  orginal release
-- -----------------------------------------------------------------------------
-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- Define at which pin the piezo speaker will be mounted
-- (a Piezo speaker may be mounted directly between IO pin and Ground)
-- Remember that the IO pin must have a full push-pull circuit,
-- so for instance RA4 on a 16F628 is not good enough.
-- ----------------------------------------------------------------------------
</i></font><b>var bit </b><font color="#000080">sound_pin </font><b>is </b><font color="#000080">pin_b0
pin_b0_direction <b>= </b></font><font color="#FF0000">output
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- This constant definies how the music is played,
--   that is what is done in the interrupt and what's done outside
--     or in other words
--   it determines if you can do something during playing of the song
-- by declaring it as an var, you can dynamically change between the 2 modes
-- IF only one of the 2 modes is used, it's advised to define as a constant,
-- it will preserve memory (not only this 1 byte !)
-- ----------------------------------------------------------------------------
;const play_music_mode_interrupt        = true
</i></font><b>var bit  </b><font color="#000080">play_music_mode_interrupt     <b>= </b></font><font color="#FF0000">false
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- ----------------------------------------------------------------------------
;const _BMS_table = 1  ;The number of tables (to save memory)
-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- ----------------------------------------------------------------------------
</i></font><b>var byte </b><font color="#000080">sound_pause <b>= </b></font><font color="#FF0000">0
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------
; Generated by Brick's Music Studio 1.4
; Developed by Guido Truffelli www.aga.it/~guy
; Special thanks to Stef Mientki

; Original MIDI file D:\_temp_robbert\Addams_Family.mid
; Transposed by 0 semitones; Playback speed 100%

</i></font><b>const </b><font color="#000080">_BMS_table <b>= </b></font><font color="#FF0000">2

</font><b>procedure </b><font color="#000080">_table_tone_duration_1 </font><b>is
  </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
  </font><font color="#800080"><i>assembler
    </i></font><font color="#000080">addwf PCL<b>,</b>f
    retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">257
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">142
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">142
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">142
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">142
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">157
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">80
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">113
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">80
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">113
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#808080"><i>;    retlw 170
;    retlw 29
;    retlw 151
;    retlw 29
;    retlw 142
;    retlw 43
;    retlw 0
;    retlw 214
;    retlw 170
;    retlw 29
;    retlw 151
;    retlw 29
  </i></font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure

procedure </b><font color="#000080">_table_tone_duration_2 </font><b>is
  </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
  </font><font color="#800080"><i>assembler
    </i></font><font color="#000080">addwf PCL<b>,</b>f
    retlw </font><font color="#FF0000">55 </font><font color="#808080"><i>;135
    </i></font><font color="#000080">retlw </font><font color="#FF0000">200 </font><font color="#808080"><i>;29
    </i></font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">214
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">135
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">127
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">191
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">170
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">151
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">142
    </font><font color="#000080">retlw </font><font color="#FF0000">43
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">157
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">29
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">1
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">28
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">80
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">113
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">56
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">106
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">63
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">64
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">21
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">95
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">85
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">75
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">71
    </font><font color="#000080">retlw </font><font color="#FF0000">86
    </font><font color="#000080">retlw </font><font color="#FF0000">0
    </font><font color="#000080">retlw </font><font color="#FF0000">0
  </font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure



</b><font color="#808080"><i>-- ----------------------------------------------------------------------------
-- table can be upto 254 bytes long, the name of the table may NOT be changed
--
-- the tables contains 2 values per tone
--   PERIOD
--     DURATION
--
-- the PERIOD must be calculated with the next formula
--   constant = 1_000_000 / ( 60 * frequency[Hz] )
--
-- the DURATION must be calculated with the next formula
--   constant = duration[msec] / 5
--
-- if PERIOD=0 and DURATION&lt;&gt;0 then a long pause is inserted
--
-- if DURATION=0 the end of the song is indicated
--
-- By these end-markers it's possible to store more songs or couplets into the tables
-- (see the demo)
-- ----------------------------------------------------------------------------
-- in this case, this table is not used,
-- instead below is another table declared
-- ----------------------------------------------------------------------------
</i></font><b>procedure </b><font color="#000080">_table_tone_duration_1_NON </font><b>is
   </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
   </font><font color="#800080"><i>assembler
      </i></font><font color="#000080">addwf PCL<b>,</b>f
retlw   </font><font color="#FF0000">67        </font><font color="#808080"><i>; first tone
  </i></font><font color="#000080">retlw   </font><font color="#FF0000">92      </font><font color="#808080"><i>; duration of first tone
</i></font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">90
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">80
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">76
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw   </font><font color="#FF0000">60
  </font><font color="#000080">retlw   </font><font color="#FF0000">93
</font><font color="#000080">retlw   </font><font color="#FF0000">76
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw   </font><font color="#FF0000">60
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">54
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">51
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">73
</font><font color="#000080">retlw   </font><font color="#FF0000">76
  </font><font color="#000080">retlw   </font><font color="#FF0000">93
</font><font color="#000080">retlw   </font><font color="#FF0000">80
  </font><font color="#000080">retlw   </font><font color="#FF0000">93
</font><font color="#000080">retlw   </font><font color="#FF0000">76
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">80
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">76
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">80
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">90
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">90
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">90
  </font><font color="#000080">retlw   </font><font color="#FF0000">93
</font><font color="#000080">retlw   </font><font color="#FF0000">80
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">90
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">107
  </font><font color="#000080">retlw   </font><font color="#FF0000">47
</font><font color="#000080">retlw   </font><font color="#FF0000">101
  </font><font color="#000080">retlw   </font><font color="#FF0000">255
</font><font color="#000080">retlw     </font><font color="#FF0000">0    </font><font color="#808080"><i>; 0 = end of table
  </i></font><font color="#000080">retlw   </font><font color="#FF0000">0    </font><font color="#808080"><i>; double 0 , because duration is the second byte
   </i></font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure

</b><font color="#808080"><i>-- ----------------------------------------------------------------------------
-- second table
-- if the table is not used, it doesn't have to be cleared,
-- because due to _BMS_table=1 it will be stuffed away by the compiler.
-- ----------------------------------------------------------------------------
;procedure _table_tone_duration_2 is
;   pragma jump_table
;   assembler
;      addwf PCL,f
;retlw   67
;   end assembler
;end procedure
-- ----------------------------------------------------------------------------
-- third table
-- ----------------------------------------------------------------------------
</i></font><b>procedure </b><font color="#000080">_table_tone_duration_3 </font><b>is
   </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
   </font><font color="#800080"><i>assembler
      </i></font><font color="#000080">addwf PCL<b>,</b>f
retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">92
</font><font color="#000080">retlw     </font><font color="#FF0000">0    </font><font color="#808080"><i>; 0 = end of table
  </i></font><font color="#000080">retlw   </font><font color="#FF0000">0    </font><font color="#808080"><i>; double 0 , because duration is in second byte
   </i></font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure
</b><font color="#808080"><i>-- ----------------------------------------------------------------------------
-- fourth table
-- ----------------------------------------------------------------------------
</i></font><b>procedure </b><font color="#000080">_table_tone_duration_4 </font><b>is
   </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
   </font><font color="#800080"><i>assembler
      </i></font><font color="#000080">addwf PCL<b>,</b>f
retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">92
</font><font color="#000080">retlw     </font><font color="#FF0000">0    </font><font color="#808080"><i>; 0 = end of table
  </i></font><font color="#000080">retlw   </font><font color="#FF0000">0    </font><font color="#808080"><i>; double 0 , because duration is in second byte
   </i></font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure
</b><font color="#808080"><i>-- ----------------------------------------------------------------------------
-- fifth table
-- ----------------------------------------------------------------------------
</i></font><b>procedure </b><font color="#000080">_table_tone_duration_5 </font><b>is
   </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
   </font><font color="#800080"><i>assembler
      </i></font><font color="#000080">addwf PCL<b>,</b>f
retlw   </font><font color="#FF0000">67
  </font><font color="#000080">retlw   </font><font color="#FF0000">92
</font><font color="#000080">retlw     </font><font color="#FF0000">0    </font><font color="#808080"><i>; 0 = end of table
  </i></font><font color="#000080">retlw   </font><font color="#FF0000">0    </font><font color="#808080"><i>; double 0 , because duration is in second byte
   </i></font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure
</b><font color="#808080"><i>-- ----------------------------------------------------------------------------







-- ----------------------------------------------------------------------------
-- definitions of some notes
--   Do1 = 1_000_0000 / ( 2 * 30 * frequency )
-- ----------------------------------------------------------------------------
</i></font><b>const </b><font color="#000080">Do1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">262 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">Re1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">294 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">Mi1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">330 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">Fa1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">349 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">Sol1 <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">392 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">La1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">440 </font><font color="#000080"><b>)
</b></font><b>const </b><font color="#000080">Si1  <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">262 </font><font color="#000080"><b>)

</b></font><b>const </b><font color="#000080">Do2 <b>= </b></font><font color="#FF0000">1_000_000 </font><font color="#000080"><b>/ ( </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b></font><font color="#FF0000">30 </font><font color="#000080"><b>* </b></font><font color="#FF0000">523 </font><font color="#000080"><b>)
</b></font><font color="#808080"><i>-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- define some constants, determining the note duration
-- ----------------------------------------------------------------------------
</i></font><b>const </b><font color="#000080">violin_temp  <b>= </b></font><font color="#FF0000">24
</font><b>const </b><font color="#000080">violin_temp2 <b>= </b></font><font color="#FF0000">2 </font><font color="#000080"><b>* </b>violin_temp
</font><b>const </b><font color="#000080">violin_temp4 <b>= </b></font><font color="#FF0000">4 </font><font color="#000080"><b>* </b>violin_temp
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------
-- in this case we alwasy want a (small) pause inbetween the notes
</i></font><font color="#000080">sound_pause <b>= </b>violin_temp
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- ----------------------------------------------------------------------------
</i></font><b>procedure </b><font color="#000080">_table_tone_duration_7 </font><b>is
   </b><font color="#800080"><i>pragma </i></font><font color="#000080">jump_table
   </font><font color="#800080"><i>assembler
      </i></font><font color="#000080">addwf PCL<b>, </b>f
retlw do1
retlw violin_temp
retlw re1
retlw violin_temp
retlw mi1
retlw violin_temp
retlw fa1
retlw violin_temp
retlw sol1
retlw violin_temp2
retlw sol1
retlw violin_temp2
retlw la1
retlw violin_temp2
retlw la1
retlw violin_temp2
retlw sol1
retlw violin_temp4
retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#808080"><i>-- -------
</i></font><font color="#000080">retlw fa1
retlw violin_temp2
retlw fa1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw sol1
retlw violin_temp4
retlw fa1
retlw violin_temp2
retlw fa1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw do1
retlw violin_temp4
retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#808080"><i>-- ------
</i></font><font color="#000080">retlw do2
retlw violin_temp
retlw do2
retlw violin_temp
retlw si1
retlw violin_temp2
retlw si1
retlw violin_temp2
retlw la1
retlw violin_temp2
retlw la1
retlw violin_temp2
retlw sol1
retlw violin_temp4
retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
</font><font color="#808080"><i>-- --------
</i></font><font color="#000080">retlw fa1
retlw violin_temp2
retlw fa1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw sol1
retlw violin_temp4
retlw fa1
retlw violin_temp2
retlw fa1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw mi1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw re1
retlw violin_temp2
retlw do1
retlw violin_temp4
retlw </font><font color="#FF0000">0
</font><font color="#000080">retlw </font><font color="#FF0000">0
   </font><b>end </b><font color="#800080"><i>assembler
</i></font><b>end procedure
</b><font color="#808080"><i>-- ----------------------------------------------------------------------------



-- ----------------------------------------------------------------------------
-- here the actual sound generation routines are included
-- ----------------------------------------------------------------------------
</i></font><font color="#FF00FF">include play_music
</font><font color="#808080"><i>-- ----------------------------------------------------------------------------

</i></font></font>
</code></pre>
</body>
</html>
