<HTML><HEAD><TITLE>Scans 2 potmeters</TITLE>
<STYLE type="text/css"><!--
BODY {
  margin: 5px 5px 5px 5px;
  background-color: #E8E8E8;
}

--></STYLE>
<LINK type="text/css" href="rvf.css" rel=STYLESHEET>
<link rel="icon" href="jalccring_small.gif" type="image/gif"></HEAD>
<BODY>

<P><SPAN class=RVTS1>Scans 2 potmeters</SPAN></P>
<P><SPAN class=RVTS7>This html document is automatically generated by JALcc, from the JAL-sourcefile</SPAN></P>
<P><SPAN class=RVTS7>scan_pots.jal&nbsp;&nbsp; 06-08-2004</SPAN></P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Description&nbsp;</SPAN></P>
<P>Library to scan 2 potmeters on a 16F628&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>Scans 2 potmeters of which the sliders are pin_a0 and pin_a1 One end of the potmeters must be tight to ground and the other end through a resistor of half the potmeters value to +5V&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>Use it by regulary calling, which toggles reading of the 2 potmeters&nbsp;</P>
<P>scan_2_pots (key)&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>Return values&nbsp;</P>
<P>key == 0 no change of potmeters was detected&nbsp;</P>
<P>0x80 &lt;= key &lt;= 0x87 , key is the (changed) value on pin_a0&nbsp;</P>
<P>0x90 &lt;= key &lt;= 0x97 , key is the (changed) value on pin_a1&nbsp;</P>
<P>a low value agrees with the slider to ground&nbsp;</P>
<P>This routine can be used in combination with scan extended keymatrix.&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>The last scanned value of both potmeters can be read at each moment through the pseudo variables&nbsp;</P>
<P>potmeter1&nbsp;</P>
<P>potmeter2&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P>There's no definition or initialization necessary&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Example scan potmeters&nbsp;</SPAN></P>
<P>&nbsp;-- include scan library&nbsp;</P>
<P>&nbsp;include scan_pots&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp;</P>
<P>&nbsp;var byte key&nbsp;</P>
<P>&nbsp;forever loop&nbsp;</P>
<P>&nbsp; -- scan one of the 2 potmeters&nbsp;</P>
<P>&nbsp; scan_2_pots ( key )&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp;</P>
<P>&nbsp; -- if a different key was pressed, execute the command&nbsp;</P>
<P>&nbsp; if key != 0 then&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp; asynch_send_hw(key)&nbsp;</P>
<P>&nbsp; end if&nbsp;</P>
<P>&nbsp;&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp; ... do other things here, maybe a fixed delay ?&nbsp;</P>
<P>&nbsp;end loop&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>License&nbsp;</SPAN></P>
<P>freeware, under the terms of the GNU GPL&nbsp;</P>
<P>Copyright (C) 2002 Stef Mientki&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS1>Version History</SPAN></P>
<P><A class=RVTS4 href="scan_pots.jal">download&nbsp; scan_pots.jal</A></P>
<P><A class=RVTS4 href="scan_pots_source.html">colorcoded HTML&nbsp; scan_pots_source.html</A></P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>version 1.1&nbsp;&nbsp; ,11-01-2002,&nbsp; Stef Mientki&nbsp;</SPAN></P>
<P>- delay for settling comparator in scan_2_pots made shorter,&nbsp;</P>
<P>(a little faster, no functional change)&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Version 1.0&nbsp;&nbsp; ,6-12-2001,&nbsp;&nbsp; Stef Mientki&nbsp;</SPAN></P>
<P>- first release&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS2>Included Files</SPAN></P>
<P>08-12-2001&nbsp;&nbsp;&nbsp;<A class=RVTS4 href="16f628_spec.jal">16f628_spec.jal</A>&nbsp;&nbsp;&nbsp; d:\pic-tools\jal\lib\</P>
<P>&nbsp;&nbsp;</P>
<P>&nbsp;&nbsp;</P>
<P><SPAN class=RVTS1>Public Procedures</SPAN></P>
<P><SPAN class=RVTS2>procedure scan_2_pots ( byte out _pot_key )</SPAN></P>
<P>-- Scans 2 potmeters of which the sliders are pin_a0 and pin_a1</P>
<P>-- one end of the potmeters must be tight to ground and</P>
<P>-- the other end through a resistor of half the potmeters value to +5V</P>
</BODY></HTML>
